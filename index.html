<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BeautyBook - –°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã</title>
    
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- –°—Ç–∏–ª–∏ (–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ) -->
    <link rel="stylesheet" href="./src/styles/variables.css?v=3">
    <link rel="stylesheet" href="./src/styles/main.css?v=3">
    <link rel="stylesheet" href="./src/styles/components.css?v=3">
    <link rel="stylesheet" href="./src/styles/booking-styles.css?v=3">
    <!-- ‚úÖ –°—Ç–∏–ª–∏ –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–ú–æ–∏ –∑–∞–ø–∏—Å–∏" -->
    <link rel="stylesheet" href="./src/styles/booking-styles-2.css?v=3">
</head>
<body>
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-spinner"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
    </div>
    
    <!-- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div id="app"></div>
    
    <!-- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="toast-container"></div>
    
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div id="modal-overlay" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <button class="modal-close" onclick="window.closeModal?.()">√ó</button>
            <div id="modal-body"></div>
        </div>
    </div>
    
    <!-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è -->
    <script>
        // API URL
        window.API_URL = 'https://billye-unoutraged-mephitically.ngrok-free.dev/api';
        console.log('üîó API URL:', window.API_URL);
        
        // –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
        window.closeModal = () => {
            document.getElementById('modal-overlay').style.display = 'none';
        };
        
        window.showModal = (content) => {
            const overlay = document.getElementById('modal-overlay');
            const body = document.getElementById('modal-body');
            body.innerHTML = content;
            overlay.style.display = 'flex';
        };
        
        // –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        window.showToast = (message, type = 'info') => {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.textContent = message;
            container.appendChild(toast);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º
            setTimeout(() => toast.classList.add('show'), 100);
            
            // –°–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                toast.classList.remove('show');
                toast.classList.add('fade-out');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        };
        
        // –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –ø–æ–∫–∞–∑–∞ –∑–∞–≥—Ä—É–∑–∫–∏
        window.showLoading = () => {
            document.getElementById('loading-screen').style.display = 'flex';
        };
        
        window.hideLoading = () => {
            document.getElementById('loading-screen').style.display = 'none';
        };
    </script>
    
    <!-- ‚úÖ –°–∫—Ä–∏–ø—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–ú–æ–∏ –∑–∞–ø–∏—Å–∏" (–ü–ï–†–ï–î –º–æ–¥—É–ª—è–º–∏) -->
    <script src="./src/scripts/bookings-page.js?v=3"></script>
    
    <!-- –ú–æ–¥—É–ª–∏ (–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏) -->
    <script type="module">
        import { API } from './src/scripts/api.js?v=3';
        import { router } from './src/scripts/router.js?v=3';
        import { telegramApp } from './src/scripts/telegram.js?v=3';
        import { BookingFlow } from './src/scripts/booking-flow.js?v=3';
        import { App } from './src/scripts/app.js?v=3';
        
        // –°–æ–∑–¥–∞—ë–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
        window.api = new API();
        window.router = router;
        window.bookingFlow = new BookingFlow();
        window.telegramApp = telegramApp;
        
        console.log('‚úÖ –ú–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        const app = new App();
        window.app = app;
        
        console.log('‚úÖ BeautyBook –≥–æ—Ç–æ–≤!');
    </script>
</body>
</html>
