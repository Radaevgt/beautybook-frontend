<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>BeautyBook - –°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã</title>
    
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="./src/styles/main.css?v=2">
    <link rel="stylesheet" href="./src/styles/components.css?v=2">
    <link rel="stylesheet" href="./src/styles/booking-styles.css?v=2">
    <link rel="stylesheet" href="./src/styles/variables.css?v=2">
</head>
<body>
    <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-spinner"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
    </div>

    <!-- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
    <div id="app"></div>

    <!-- Toast -->
    <div id="toast-container"></div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div id="modal-overlay" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <button class="modal-close" onclick="window.closeModal?.()">√ó</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è -->
    <script>
        window.API_URL = 'https://billye-unoutraged-mephitically.ngrok-free.dev/api';
        console.log('üîó API URL:', window.API_URL);
        
        window.closeModal = () => {
            document.getElementById('modal-overlay').style.display = 'none';
        };
        
        window.showModal = (content) => {
            const overlay = document.getElementById('modal-overlay');
            const body = document.getElementById('modal-body');
            body.innerHTML = content;
            overlay.style.display = 'flex';
        };
        
        window.showToast = (message, type = 'info') => {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.textContent = message;
            container.appendChild(toast);
            setTimeout(() => {
                toast.classList.add('fade-out');
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        };
    </script>

    <!-- –ú–æ–¥—É–ª–∏ -->
    <script type="module">
        import { API } from './src/scripts/api.js';
        import { router } from './src/scripts/router.js';
        import { telegramApp } from './src/scripts/telegram.js';
        import { BookingFlow } from './src/scripts/booking-flow.js';
        import { App } from './src/scripts/app.js';
        
        window.api = new API();
        window.router = router;
        window.bookingFlow = new BookingFlow();
        window.telegramApp = telegramApp;
        
        console.log('‚úÖ –ú–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
        
        const app = new App();
        window.app = app;
        
        console.log('‚úÖ BeautyBook –≥–æ—Ç–æ–≤!');
    </script>
</body>
</html>
